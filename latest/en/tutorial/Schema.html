<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Typelevel Laika + Helium Theme" />
  <title>Schema</title>
  
  <meta name="author" content="ldbc contributors"/>
  
  <meta name="author" content="Takahiko Tominaga"/>
  
  
  <meta name="description" content="Documentation for ldbc"/>
  
  
  
  <link rel="icon" sizes="32x32" type="image/png" href="https://typelevel.org/img/favicon.png"/>
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">
  
  <link rel="stylesheet" type="text/css" href="../../helium/site/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="../../helium/site/laika-helium.css" />
    <link rel="stylesheet" type="text/css" href="../../css/site.css" />
  <script src="../../helium/site/laika-helium.js"></script>
    <script src="../../helium/site/laika-versions.js"></script>
  <script>initVersions("../../../", "/en/tutorial/Schema.html", "latest", null);</script>
  
  <script> /* for avoiding page load transitions */ </script>
</head>

<body>

<header id="top-bar" class="light-default dark-default">

  <div class="row">
    <a id="nav-icon">
      <i class="icofont-laika navigationMenu" title="Navigation">&#xefa2;</i>
    </a>
    
    <div class="menu-container version-menu">
      <a class="text-link menu-toggle" href="#">Version 0.3</a>
      <nav class="menu-content">
        <ul class="nav-list">
          <li class="level1 nav-leaf"><a href="../../older-versions.html">Older Versions</a></li>
        </ul>
      </nav>
    </div>
  </div>

  <a class="image-link" href="https://typelevel.org"><img src="https://typelevel.org/img/logo.svg"></a>

  <div class="row links">
    
    <a class="icon-link svg-link" href="https://github.com/takapi327/ldbc"><span class="github" title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a>
    
    <a class="icon-link glyph-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika chat" title="Chat">&#xeed5;</i></a>
    
    <a class="icon-link svg-link" href="https://fosstodon.org/@typelevel"><span class="mastodon" title="Mastodon"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <g class="svg-shape">
    <path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/>
  </g>
</svg></span></a>
    
    <a class="icon-link svg-link" href="https://javadoc.io/doc/io.github.takapi327/ldbc-dsl_3/latest/index.html"><span class="api" title="API"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M75,47.5c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm-50,-0c13.246,-0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,-0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm2.705,16.735l7.239,0l0.622,-4.904l-21.833,0l-0,4.904l7.589,0l0,22.067l6.383,0l-0,-22.067Zm58.076,7.265c-0,-8.757 -3.698,-14.166 -10.781,-14.166c-7.083,-0 -10.781,5.604 -10.781,14.166c0,8.757 3.698,14.166 10.781,14.166c7.083,0 10.781,-5.604 10.781,-14.166Zm-6.539,0c0,6.538 -1.128,9.496 -4.242,9.496c-2.997,0 -4.242,-2.88 -4.242,-9.496c-0,-6.616 1.206,-9.496 4.242,-9.496c3.036,-0 4.242,2.88 4.242,9.496Zm-29.242,-67c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm0.512,9.834c-7.122,-0 -12.609,5.098 -12.609,14.127c-0,9.263 5.215,14.205 12.532,14.205c4.164,0 7.083,-1.634 9.068,-3.658l-2.88,-3.697c-1.518,1.206 -3.153,2.413 -5.838,2.413c-3.697,-0 -6.266,-2.763 -6.266,-9.263c-0,-6.616 2.724,-9.379 6.149,-9.379c2.102,-0 3.892,0.778 5.371,1.984l3.113,-3.775c-2.257,-1.868 -4.748,-2.957 -8.64,-2.957Z"/>
  </g>
</svg></span></a>
    
  </div>  

</header>

<nav id="sidebar">

  <div class="row">
    
    <a class="icon-link svg-link" href="https://github.com/takapi327/ldbc"><span class="github" title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a>
    
    <a class="icon-link glyph-link" href="https://discord.gg/XF3CXcMzqD"><i class="icofont-laika chat" title="Chat">&#xeed5;</i></a>
    
    <a class="icon-link svg-link" href="https://fosstodon.org/@typelevel"><span class="mastodon" title="Mastodon"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <g class="svg-shape">
    <path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/>
  </g>
</svg></span></a>
    
    <a class="icon-link svg-link" href="https://javadoc.io/doc/io.github.takapi327/ldbc-dsl_3/latest/index.html"><span class="api" title="API"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M75,47.5c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm-50,-0c13.246,-0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,-0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm2.705,16.735l7.239,0l0.622,-4.904l-21.833,0l-0,4.904l7.589,0l0,22.067l6.383,0l-0,-22.067Zm58.076,7.265c-0,-8.757 -3.698,-14.166 -10.781,-14.166c-7.083,-0 -10.781,5.604 -10.781,14.166c0,8.757 3.698,14.166 10.781,14.166c7.083,0 10.781,-5.604 10.781,-14.166Zm-6.539,0c0,6.538 -1.128,9.496 -4.242,9.496c-2.997,0 -4.242,-2.88 -4.242,-9.496c-0,-6.616 1.206,-9.496 4.242,-9.496c3.036,-0 4.242,2.88 4.242,9.496Zm-29.242,-67c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm0.512,9.834c-7.122,-0 -12.609,5.098 -12.609,14.127c-0,9.263 5.215,14.205 12.532,14.205c4.164,0 7.083,-1.634 9.068,-3.658l-2.88,-3.697c-1.518,1.206 -3.153,2.413 -5.838,2.413c-3.697,-0 -6.266,-2.763 -6.266,-9.263c-0,-6.616 2.724,-9.379 6.149,-9.379c2.102,-0 3.892,0.778 5.371,1.984l3.113,-3.775c-2.257,-1.868 -4.748,-2.957 -8.64,-2.957Z"/>
  </g>
</svg></span></a>
    
  </div>

  
  <ul class="nav-list">
    <li class="level1 nav-leaf"><a href="../">ldbc</a></li>
    <li class="level1 nav-header">Tutorial</li>
    <li class="level2 nav-leaf"><a href="index.html">Intro</a></li>
    <li class="level2 nav-leaf"><a href="Setup.html">Setup</a></li>
    <li class="level2 nav-leaf"><a href="Connection.html">Connection</a></li>
    <li class="level2 nav-leaf"><a href="Simple-Program.html">Simple Program</a></li>
    <li class="level2 nav-leaf"><a href="Database-Operations.html">Database Operation</a></li>
    <li class="level2 nav-leaf"><a href="Parameterized-Queries.html">Parameter</a></li>
    <li class="level2 nav-leaf"><a href="Selecting-Data.html">Data Select</a></li>
    <li class="level2 nav-leaf"><a href="Updating-Data.html">Data Update</a></li>
    <li class="level2 nav-leaf"><a href="Error-Handling.html">Error Handling</a></li>
    <li class="level2 nav-leaf"><a href="Logging.html">Logging</a></li>
    <li class="level2 nav-leaf"><a href="Custom-Data-Type.html">Custom data type</a></li>
    <li class="level2 nav-leaf"><a href="Query-Builder.html">Query Builder</a></li>
    <li class="level2 active nav-leaf"><a href="#">Schema</a></li>
    <li class="level2 nav-leaf"><a href="Schema-Code-Generation.html">Schema code generation</a></li>
    <li class="level1 nav-header">Reference</li>
    <li class="level2 nav-leaf"><a href="../reference/">Intro</a></li>
    <li class="level2 nav-leaf"><a href="../reference/Connector.html">Connector</a></li>
  </ul>
  

</nav>

<div id="container">

  
<nav id="page-nav">
  <p class="header"><a href="#">Schema</a></p>

  <ul class="nav-list">
    <li class="level1 nav-leaf"><a href="#data-type">Data Type</a></li>
    <li class="level1 nav-leaf"><a href="#attributes">Attributes</a></li>
    <li class="level1 nav-node"><a href="#setting-keys">Setting Keys</a></li>
    <li class="level2 nav-leaf"><a href="#primary-key">PRIMARY KEY</a></li>
    <li class="level2 nav-leaf"><a href="#unique-key">UNIQUE KEY</a></li>
    <li class="level2 nav-leaf"><a href="#index-key">INDEX KEY</a></li>
    <li class="level2 nav-leaf"><a href="#foreign-key">FOREIGN KEY</a></li>
    <li class="level2 nav-leaf"><a href="#constraint-name">constraint name</a></li>
    <li class="level1 nav-leaf"><a href="#custom-data-types">Custom data types</a></li>
  </ul>

  <p class="footer"></p>
</nav>


  <main class="content">

    <h1 id="schema" class="title">Schema</h1>
    <p>This chapter describes how to work with database schemas in Scala code, especially how to manually write a schema, which is useful when starting to write an application without an existing database. If you already have a schema in your database, you can skip this step using Code Generator.</p>
    <p>The following dependencies must be set up for your project</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="comment">//&gt; using dep &quot;io.github.takapi327::ldbc-schema:0.3.0-beta8&quot;</span></code></pre>
    <p>The following code example assumes the following import</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">ldbc</span><span>.</span><span class="identifier">schema</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">ldbc</span><span>.</span><span class="identifier">schema</span><span>.</span><span class="identifier">attribute</span><span>.*</span></code></pre>
    <p>ldbc maintains a one-to-one mapping between Scala models and database table definitions. The mapping between the properties held by the model and the columns held by the table is done in the order of definition. Table definitions are very similar to the structure of a Create statement. This makes the construction of table definitions intuitive for the user.</p>
    <p>ldbc uses these table definitions for a variety of purposes. Generating type-safe queries, generating documents, etc.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">User</span><span>(
  </span><span class="identifier">id</span><span>:    </span><span class="type-name">Int</span><span>,
  </span><span class="identifier">name</span><span>:  </span><span class="type-name">String</span><span>,
  </span><span class="identifier">email</span><span>: </span><span class="type-name">String</span><span>,
)

</span><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(                  </span><span class="comment">// CREATE TABLE `user` (
</span><span>  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>), </span><span class="comment">//   `id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
</span><span>  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),                    </span><span class="comment">//   `name` VARCHAR(50) NOT NULL,
</span><span>  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>)),                  </span><span class="comment">//   `email` VARCHAR(100) NOT NULL,
</span><span>)                                                 </span><span class="comment">// );</span></code></pre>
    <p>All columns are defined by the column method. Each column has a column name, data type, and attributes. The following primitive types are supported by default and are ready to use</p>
    <ul>
      <li>Numeric types: <code>Byte</code>, <code>Short</code>, <code>Int</code>, <code>Long</code>, <code>Float</code>, <code>Double</code>, <code>BigDecimal</code>, <code>BigInt</code></li>
      <li>LOB types: <code>java.sql.Blob</code>, <code>java.sql.Clob</code>, <code>Array[Byte]</code></li>
      <li>Date types: <code>java.sql.Date</code>, <code>java.sql.Time</code>, <code>java.sql.Timestamp</code></li>
      <li>String</li>
      <li>Boolean</li>
      <li>java.time.*</li>
    </ul>
    <p>Nullable columns are represented by <code>Option[T]</code>, where T is one of the supported primitive types; note that any column that is not of type Option is Not Null.</p>
    
    <h2 id="data-type" class="section"><a class="anchor-link left" href="#data-type"><i class="icofont-laika link">&#xef71;</i></a>Data Type</h2>
    <p>The mapping of the Scala type of property that a model has to the data type that a column has requires that the defined data type supports the Scala type. Attempting to assign an unsupported type will result in a compile error.</p>
    <p>The Scala types supported by the data type are listed in the table below.</p>
    <table>
      <thead>
        <tr>
          <th>Data Type</th>
          <th>Scala Type</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>BIT</code></td>
          <td><code>Byte, Short, Int, Long</code></td>
        </tr>
        <tr>
          <td><code>TINYINT</code></td>
          <td><code>Byte, Short</code></td>
        </tr>
        <tr>
          <td><code>SMALLINT</code></td>
          <td><code>Short, Int</code></td>
        </tr>
        <tr>
          <td><code>MEDIUMINT</code></td>
          <td><code>Int</code></td>
        </tr>
        <tr>
          <td><code>INT</code></td>
          <td><code>Int, Long</code></td>
        </tr>
        <tr>
          <td><code>BIGINT</code></td>
          <td><code>Long, BigInt</code></td>
        </tr>
        <tr>
          <td><code>DECIMAL</code></td>
          <td><code>BigDecimal</code></td>
        </tr>
        <tr>
          <td><code>FLOAT</code></td>
          <td><code>Float</code></td>
        </tr>
        <tr>
          <td><code>DOUBLE</code></td>
          <td><code>Double</code></td>
        </tr>
        <tr>
          <td><code>CHAR</code></td>
          <td><code>String</code></td>
        </tr>
        <tr>
          <td><code>VARCHAR</code></td>
          <td><code>String</code></td>
        </tr>
        <tr>
          <td><code>BINARY</code></td>
          <td><code>Array[Byte]</code></td>
        </tr>
        <tr>
          <td><code>VARBINARY</code></td>
          <td><code>Array[Byte]</code></td>
        </tr>
        <tr>
          <td><code>TINYBLOB</code></td>
          <td><code>Array[Byte]</code></td>
        </tr>
        <tr>
          <td><code>BLOB</code></td>
          <td><code>Array[Byte]</code></td>
        </tr>
        <tr>
          <td><code>MEDIUMBLOB</code></td>
          <td><code>Array[Byte]</code></td>
        </tr>
        <tr>
          <td><code>LONGBLOB</code></td>
          <td><code>Array[Byte]</code></td>
        </tr>
        <tr>
          <td><code>TINYTEXT</code></td>
          <td><code>String</code></td>
        </tr>
        <tr>
          <td><code>TEXT</code></td>
          <td><code>String</code></td>
        </tr>
        <tr>
          <td><code>MEDIUMTEXT</code></td>
          <td><code>String</code></td>
        </tr>
        <tr>
          <td><code>DATE</code></td>
          <td><code>java.time.LocalDate</code></td>
        </tr>
        <tr>
          <td><code>DATETIME</code></td>
          <td><code>java.time.Instant, java.time.LocalDateTime, java.time.OffsetTime</code></td>
        </tr>
        <tr>
          <td><code>TIMESTAMP</code></td>
          <td><code>java.time.Instant, java.time.LocalDateTime, java.time.OffsetDateTime, java.time.ZonedDateTime</code></td>
        </tr>
        <tr>
          <td><code>TIME</code></td>
          <td><code>java.time.LocalTime</code></td>
        </tr>
        <tr>
          <td><code>YEAR</code></td>
          <td><code>java.time.Instant, java.time.LocalDate, java.time.Year</code></td>
        </tr>
        <tr>
          <td><code>BOOLEA</code></td>
          <td><code>Boolean</code></td>
        </tr>
      </tbody>
    </table>
    <p><strong>Note on working with integer types</strong></p>
    <p>It should be noted that the range of data that can be handled, depending on whether it is signed or unsigned, does not fit within the Scala types.</p>
    <table>
      <thead>
        <tr>
          <th>Data Type</th>
          <th>Signed Range</th>
          <th>Unsigned Range</th>
          <th>Scala Type</th>
          <th>Range</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>TINYINT</code></td>
          <td><code>-128 ~ 127</code></td>
          <td><code>0 ~ 255</code></td>
          <td><code>Byte&lt;br&gt;Short</code></td>
          <td><code>-128 ~ 127&lt;br&gt;-32768～32767</code></td>
        </tr>
        <tr>
          <td><code>SMALLINT</code></td>
          <td><code>-32768 ~ 32767</code></td>
          <td><code>0 ~ 65535</code></td>
          <td><code>Short&lt;br&gt;Int</code></td>
          <td><code>-32768～32767&lt;br&gt;-2147483648～2147483647</code></td>
        </tr>
        <tr>
          <td><code>MEDIUMINT</code></td>
          <td><code>-8388608 ~ 8388607</code></td>
          <td><code>0 ~ 16777215</code></td>
          <td><code>Int</code></td>
          <td><code>-2147483648～2147483647</code></td>
        </tr>
        <tr>
          <td><code>INT</code></td>
          <td><code>-2147483648	~ 2147483647</code></td>
          <td><code>0 ~ 4294967295</code></td>
          <td><code>Int&lt;br&gt;Long</code></td>
          <td><code>-2147483648～2147483647&lt;br&gt;-9223372036854775808～9223372036854775807</code></td>
        </tr>
        <tr>
          <td><code>BIGINT</code></td>
          <td><code>-9223372036854775808 ~ 9223372036854775807</code></td>
          <td><code>0 ~ 18446744073709551615</code></td>
          <td><code>Long&lt;br&gt;BigInt</code></td>
          <td><code>-9223372036854775808～9223372036854775807&lt;br&gt;...</code></td>
        </tr>
      </tbody>
    </table>
    <p>To work with user-defined proprietary or unsupported types, see Custom Data Types.</p>
    
    <h2 id="attributes" class="section"><a class="anchor-link left" href="#attributes"><i class="icofont-laika link">&#xef71;</i></a>Attributes</h2>
    <p>Columns can be assigned various attributes.</p>
    <ul>
      <li><code>AUTO_INCREMENT</code>.
      Create a DDL statement to mark a column as an auto-increment key when documenting SchemaSPY.
      MySQL cannot return columns that are not AutoInc when inserting data. Therefore, if necessary, ldbc will check to see if the return column is properly marked as AutoInc.</li>
      <li><code>PRIMARY_KEY</code>.
      Mark the column as a primary key when creating DDL statements or SchemaSPY documents.</li>
      <li><code>UNIQUE_KEY</code>.
      Marks a column as a unique key when creating a DDL statement or SchemaSPY document.</li>
      <li><code>COMMENT</code>.
      Marks a column as a comment when creating a DDL statement or SchemaSPY document.</li>
    </ul>
    
    <h2 id="setting-keys" class="section"><a class="anchor-link left" href="#setting-keys"><i class="icofont-laika link">&#xef71;</i></a>Setting Keys</h2>
    <p>MySQL allows you to set various keys for your tables, such as Unique keys, Index keys, foreign keys, etc. Let&#39;s look at how to set these keys in a table definition built with ldbc.</p>
    
    <h3 id="primary-key" class="section"><a class="anchor-link left" href="#primary-key"><i class="icofont-laika link">&#xef71;</i></a>PRIMARY KEY</h3>
    <p>A primary key is an item that uniquely identifies data in MySQL. When a column has a primary key constraint, it can only contain values that do not duplicate the values of other data. It also cannot contain NULLs. As a result, only one piece of data in the table can be identified by looking up the value of a column with a primary key constraint set.</p>
    <p>In ldbc, this primary key constraint can be set in two ways.</p>
    <ol class="arabic">
      <li>set as an attribute of column method</li>
      <li>set by keySet method of table</li>
    </ol>
    <p><strong>Setting as an attribute of the column method</strong>.</p>
    <p>It is very easy to set a column method attribute by simply passing <code>PRIMARY_KEY</code> as the third or later argument of the column method. This allows you to set the <code>id</code> column as the primary key in the following cases.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">BIGINT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>)</span></code></pre>
    <p>Set by keySet method of <strong>table</strong>.</p>
    <p>ldbc table definitions have a method called <code>keySet</code>, where you can set the column you want to set as the primary key by passing <code>PRIMARY_KEY</code> as the column name.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">PRIMARY_KEY</span><span>(</span><span class="identifier">table</span><span>.</span><span class="identifier">id</span><span>))

</span><span class="comment">// CREATE TABLE `user` (
//   ...,
//   PRIMARY KEY (`id`)
// )</span></code></pre>
    <p>The <code>PRIMARY_KEY</code> method can be set to the following parameters in addition to the columns.</p>
    <ul>
      <li><code>Index Type</code> ldbc.schema.Index.Type.BTREE or ldbc.schema.Index.Type.HASH</li>
      <li><code>Index Option</code> ldbc.schema.Index.IndexOption</li>
    </ul>
    
    <h4 id="composite-key-primary-key" class="section"><a class="anchor-link left" href="#composite-key-primary-key"><i class="icofont-laika link">&#xef71;</i></a>composite key (primary key)</h4>
    <p>Not only one column, but also multiple columns can be combined as a primary key. You can set up a composite primary key by simply passing <code>PRIMARY_KEY</code> with the columns you want as primary keys.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">PRIMARY_KEY</span><span>(</span><span class="identifier">table</span><span>.</span><span class="identifier">id</span><span>, </span><span class="identifier">table</span><span>.</span><span class="identifier">name</span><span>))

</span><span class="comment">// CREATE TABLE `user` (
//   ...,
//   PRIMARY KEY (`id`, `name`)
// )</span></code></pre>
    <p>Compound keys can only be set with <code>PRIMARY_KEY</code> in the <code>keySet</code> method. If you set multiple attributes in the column method as shown below, each attribute will be set as a primary key, not as a compound key.</p>
    <p>In ldbc, setting multiple <code>PRIMARY_KEY</code>s in a table definition does not cause a compile error. However, if the table definition is used in query generation, document generation, etc., an error will occur. This is due to the restriction that only one PRIMARY KEY can be set per table.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>), </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
)

</span><span class="comment">// CREATE TABLE `user` (
//   `id` BIGINT AUTO_INCREMENT PRIMARY KEY,
// )</span></code></pre>
    
    <h3 id="unique-key" class="section"><a class="anchor-link left" href="#unique-key"><i class="icofont-laika link">&#xef71;</i></a>UNIQUE KEY</h3>
    <p>A unique key is an item that uniquely identifies data in MySQL. When a uniqueness constraint is set on a column, the column can only contain values that do not duplicate the values of other data.</p>
    <p>In ldbc, this uniqueness constraint can be set in two ways. 1.</p>
    <ol class="arabic">
      <li>as an attribute of the column method</li>
      <li>in the keySet method of table</li>
    </ol>
    <p><strong>Setting as an attribute of the column method</strong>.</p>
    <p>It is very easy to set a column method as an attribute by simply passing <code>UNIQUE_KEY</code> as the third or later argument of the column method. This allows you to set the <code>id</code> column as a unique key in the following cases.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">BIGINT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">UNIQUE_KEY</span><span>)</span></code></pre>
    <p><strong>Set by keySet method of table</strong></p>
    <p>The ldbc table definition has a method called <code>keySet</code> where you can set a column as a unique key by passing <code>UNIQUE_KEY</code> as the column name you want to set as a unique key.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">UNIQUE_KEY</span><span>(</span><span class="identifier">table</span><span>.</span><span class="identifier">id</span><span>))

</span><span class="comment">// CREATE TABLE `user` (
//   ...,
//   UNIQUE KEY (`id`)
// )</span></code></pre>
    <p>The <code>UNIQUE_KEY</code> method accepts the following parameters in addition to the columns.</p>
    <ul>
      <li><code>Index Name</code> String</li>
      <li><code>Index Type</code> ldbc.schema.Index.Type.BTREE or ldbc.schema.Index.Type.HASH</li>
      <li><code>Index Option</code> ldbc.schema.Index.IndexOption</li>
    </ul>
    
    <h4 id="composite-key-unique-key" class="section"><a class="anchor-link left" href="#composite-key-unique-key"><i class="icofont-laika link">&#xef71;</i></a>composite key (unique key)</h4>
    <p>You can set not only one column as a unique key, but also multiple columns as a combined unique key. You can set up a composite unique key by simply passing <code>UNIQUE_KEY</code> with multiple columns that you want to set as unique keys.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">UNIQUE_KEY</span><span>(</span><span class="identifier">table</span><span>.</span><span class="identifier">id</span><span>, </span><span class="identifier">table</span><span>.</span><span class="identifier">name</span><span>))

</span><span class="comment">// CREATE TABLE `user` (
//   ...,
//   UNIQUE KEY (`id`, `name`)
// )</span></code></pre>
    <p>Compound keys can only be set with <code>UNIQUE_KEY</code> in the <code>keySet</code> method. If you set multiple keys as attributes in the column method, each will be set as a unique key, not as a compound key.</p>
    
    <h3 id="index-key" class="section"><a class="anchor-link left" href="#index-key"><i class="icofont-laika link">&#xef71;</i></a>INDEX KEY</h3>
    <p>An index key is an “index” in MySQL to efficiently retrieve the desired record.</p>
    <p>In ldbc, this index can be set in two ways.</p>
    <ol class="arabic">
      <li>as an attribute of the column method</li>
      <li>by using the keySet method of table.</li>
    </ol>
    <p><strong>Set as an attribute of the column method</strong></p>
    <p>It is very easy to set a column method as an attribute, just pass <code>INDEX_KEY</code> as the third argument or later of the column method. This allows you to set the <code>id</code> column as an index in the following cases</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">BIGINT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">INDEX_KEY</span><span>)</span></code></pre>
    <p><strong>Set by keySet method of table</strong></p>
    <p>The ldbc table definition has a method called <code>keySet</code>, where you can set a column as an index key by passing the column you want to set as an index to <code>INDEX_KEY</code>.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">INDEX_KEY</span><span>(</span><span class="identifier">table</span><span>.</span><span class="identifier">id</span><span>))

</span><span class="comment">// CREATE TABLE `user` (
//   ...,
//   INDEX KEY (`id`)
// )</span></code></pre>
    <p>The <code>INDEX_KEY</code> method accepts the following parameters in addition to the columns.</p>
    <ul>
      <li><code>Index Name</code> String</li>
      <li>Index Type` ldbc.schema.Index.Type.BTREE or ldbc.schema.Index.Type.HASH</li>
      <li><code>Index Option</code> ldbc.schema.Index.IndexOption</li>
    </ul>
    
    <h4 id="composite-key-index-key" class="section"><a class="anchor-link left" href="#composite-key-index-key"><i class="icofont-laika link">&#xef71;</i></a>composite key (index key)</h4>
    <p>You can set not only one column but also multiple columns as index keys as a combined index key. You can set up a composite index by simply passing <code>INDEX_KEY</code> with multiple columns that you want to set as index keys.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">INDEX_KEY</span><span>(</span><span class="identifier">table</span><span>.</span><span class="identifier">id</span><span>, </span><span class="identifier">table</span><span>.</span><span class="identifier">name</span><span>))

</span><span class="comment">// CREATE TABLE `user` (
//   ...,
//   INDEX KEY (`id`, `name`)
// )</span></code></pre>
    <p>Compound keys can only be set with <code>INDEX_KEY</code> in the <code>keySet</code> method. If you set multiple columns as attributes of the <code>column</code> method, they will each be set as an index key, not as a composite index.</p>
    
    <h3 id="foreign-key" class="section"><a class="anchor-link left" href="#foreign-key"><i class="icofont-laika link">&#xef71;</i></a>FOREIGN KEY</h3>
    <p>A foreign key is a data integrity constraint (referential integrity constraint) in MySQL.  A column set to a foreign key can only have values that exist in the columns of the referenced table.</p>
    <p>In ldbc, this foreign key constraint can be set by using the keySet method of table.</p>
    <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">user</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
)

</span><span class="keyword">val</span><span> </span><span class="identifier">order</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">Order</span><span>](</span><span class="string-literal">&quot;order&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;user_id&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>))
  ...
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">FOREIGN_KEY</span><span>(</span><span class="identifier">table</span><span>.</span><span class="identifier">userId</span><span>, </span><span class="type-name">REFERENCE</span><span>(</span><span class="identifier">user</span><span>, </span><span class="identifier">user</span><span>.</span><span class="identifier">id</span><span>)))

</span><span class="comment">// CREATE TABLE `order` (
//   ...,
//   FOREIGN KEY (user_id) REFERENCES `user` (id),
// )</span></code></pre>
    <p>The <code>FOREIGN_KEY</code> method accepts the following parameters in addition to column and reference values.</p>
    <ul>
      <li><code>Index Name</code> String</li>
    </ul>
    <p>Foreign key constraints can be used to set the behavior of the parent table on delete and update. The <code>REFERENCE</code> method provides <code>onDelete</code> and <code>onUpdate</code> methods that can be used to set these parameters.</p>
    <p>Values that can be set can be obtained from <code>ldbc.schema.Reference.ReferenceOption</code>.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">order</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">Order</span><span>](</span><span class="string-literal">&quot;order&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;user_id&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>))
  ...
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">FOREIGN_KEY</span><span>(</span><span class="identifier">table</span><span>.</span><span class="identifier">userId</span><span>, </span><span class="type-name">REFERENCE</span><span>(</span><span class="identifier">user</span><span>, </span><span class="identifier">user</span><span>.</span><span class="identifier">id</span><span>).</span><span class="identifier">onDelete</span><span>(</span><span class="type-name">Reference</span><span>.</span><span class="type-name">ReferenceOption</span><span>.</span><span class="type-name">RESTRICT</span><span>)))

</span><span class="comment">// CREATE TABLE `order` (
//   ...,
//   FOREIGN KEY (`user_id`)  REFERENCES `user` (`id`) ON DELETE RESTRICT
// )</span></code></pre>
    <p>Possible values are</p>
    <ul>
      <li><code>RESTRICT</code>: deny delete or update operations on the parent table.</li>
      <li><code>CASCADE</code>: delete or update a row from the parent table and automatically delete or update the matching row in the child table.</li>
      <li><code>SET_NULL</code>: deletes or updates a row from the parent table and sets a foreign key column in the child table to NULL.</li>
      <li><code>NO_ACTION</code>: Standard SQL keyword. In MySQL, equivalent to RESTRICT.</li>
      <li><code>SET_DEFAULT</code>: This action is recognized by the MySQL parser, but both InnoDB and NDB will reject table definitions containing an ON DELETE SET DEFAULT or ON UPDATE SET DEFAULT clause.</li>
    </ul>
    
    <h4 id="composite-key-foreign-key" class="section"><a class="anchor-link left" href="#composite-key-foreign-key"><i class="icofont-laika link">&#xef71;</i></a>composite key (foreign key)</h4>
    <p>Not only one column, but also multiple columns can be combined as a foreign key. Simply pass multiple columns to <code>FOREIGN_KEY</code> to be set as foreign keys as a compound foreign key.</p>
    <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">user</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
)

</span><span class="keyword">val</span><span> </span><span class="identifier">order</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">Order</span><span>](</span><span class="string-literal">&quot;order&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;user_id&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>))
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;user_email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
  ...
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">FOREIGN_KEY</span><span>((</span><span class="identifier">table</span><span>.</span><span class="identifier">userId</span><span>, </span><span class="identifier">table</span><span>.</span><span class="identifier">userEmail</span><span>), </span><span class="type-name">REFERENCE</span><span>(</span><span class="identifier">user</span><span>, (</span><span class="identifier">user</span><span>.</span><span class="identifier">id</span><span>, </span><span class="identifier">user</span><span>.</span><span class="identifier">email</span><span>))))

</span><span class="comment">// CREATE TABLE `user` (
//   ...,
//   FOREIGN KEY (`user_id`, `user_email`)  REFERENCES `user` (`id`, `email`)
// )</span></code></pre>
    
    <h3 id="constraint-name" class="section"><a class="anchor-link left" href="#constraint-name"><i class="icofont-laika link">&#xef71;</i></a>constraint name</h3>
    <p>MySQL allows you to give arbitrary names to constraints by using CONSTRAINT. The constraint name must be unique per database.</p>
    <p>Since ldbc provides the CONSTRAINT method, you can set constraints such as key constraints by simply passing them to the CONSTRAINT method.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">order</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">Order</span><span>](</span><span class="string-literal">&quot;order&quot;</span><span>)(
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>, </span><span class="type-name">PRIMARY_KEY</span><span>),
  </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;user_id&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>))
  ...
)
  .</span><span class="identifier">keySet</span><span>(</span><span class="identifier">table</span><span> =&gt; </span><span class="type-name">CONSTRAINT</span><span>(</span><span class="string-literal">&quot;fk_user_id&quot;</span><span>, </span><span class="type-name">FOREIGN_KEY</span><span>(</span><span class="identifier">table</span><span>.</span><span class="identifier">userId</span><span>, </span><span class="type-name">REFERENCE</span><span>(</span><span class="identifier">user</span><span>, </span><span class="identifier">user</span><span>.</span><span class="identifier">id</span><span>))))

</span><span class="comment">// CREATE TABLE `order` (
//   ...,
//   CONSTRAINT `fk_user_id` FOREIGN KEY (`user_id`)  REFERENCES `user` (`id`)
// )</span></code></pre>
    
    <h2 id="custom-data-types" class="section"><a class="anchor-link left" href="#custom-data-types"><i class="icofont-laika link">&#xef71;</i></a>Custom data types</h2>
    <p>The way to use user-specific or unsupported types is to tell them what type to treat the column data type as; DataType provides a <code>mapping</code> method that can be used to set this up as an implicit type conversion.</p>
    <pre><code class="nohighlight"><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">User</span><span>(
  </span><span class="identifier">id</span><span>:    </span><span class="type-name">Int</span><span>,
  </span><span class="identifier">name</span><span>:  </span><span class="type-name">User</span><span>.</span><span class="type-name">Name</span><span>,
  </span><span class="identifier">email</span><span>: </span><span class="type-name">String</span><span>,
)

</span><span class="keyword">object</span><span> </span><span class="type-name">User</span><span>:

  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Name</span><span>(</span><span class="identifier">firstName</span><span>: </span><span class="type-name">String</span><span>, </span><span class="identifier">lastName</span><span>: </span><span class="type-name">String</span><span>)

  </span><span class="keyword">given</span><span> </span><span class="type-name">Conversion</span><span>[</span><span class="type-name">VARCHAR</span><span>[</span><span class="type-name">String</span><span>], </span><span class="type-name">DataType</span><span>[</span><span class="type-name">Name</span><span>]] = </span><span class="type-name">DataType</span><span>.</span><span class="identifier">mapping</span><span>[</span><span class="type-name">VARCHAR</span><span>[</span><span class="type-name">String</span><span>], </span><span class="type-name">Name</span><span>]

  </span><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>),
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
  )</span></code></pre>
    <p>ldbc does not allow multiple columns to be merged into a single property of the model, since the purpose of ldbc is to provide a one-to-one mapping between model and table, and to type-safe the table definitions in the database.</p>
    <p>Therefore, it is not allowed to have different number of properties in a table definition and in a model. The following implementation will result in a compile error</p>
    <pre><code class="nohighlight"><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">User</span><span>(
  </span><span class="identifier">id</span><span>:    </span><span class="type-name">Int</span><span>,
  </span><span class="identifier">name</span><span>:  </span><span class="type-name">User</span><span>.</span><span class="type-name">Name</span><span>,
  </span><span class="identifier">email</span><span>: </span><span class="type-name">String</span><span>,
)

</span><span class="keyword">object</span><span> </span><span class="type-name">User</span><span>:

  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Name</span><span>(</span><span class="identifier">firstName</span><span>: </span><span class="type-name">String</span><span>, </span><span class="identifier">lastName</span><span>: </span><span class="type-name">String</span><span>)

  </span><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>),
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;first_name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;last_name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
  )</span></code></pre>
    <p>If you wish to implement the above, please consider the following implementation.</p>
    <pre><code class="nohighlight"><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">User</span><span>(
  </span><span class="identifier">id</span><span>:        </span><span class="type-name">Int</span><span>,
  </span><span class="identifier">firstName</span><span>: </span><span class="type-name">String</span><span>, 
  </span><span class="identifier">lastName</span><span>:  </span><span class="type-name">String</span><span>,
  </span><span class="identifier">email</span><span>:     </span><span class="type-name">String</span><span>,
):
  
  </span><span class="keyword">val</span><span> </span><span class="identifier">name</span><span>: </span><span class="type-name">User</span><span>.</span><span class="type-name">Name</span><span> = </span><span class="type-name">User</span><span>.</span><span class="type-name">Name</span><span>(</span><span class="identifier">firstName</span><span>, </span><span class="identifier">lastName</span><span>)

</span><span class="keyword">object</span><span> </span><span class="type-name">User</span><span>:

  </span><span class="keyword">case</span><span> </span><span class="keyword">class</span><span> </span><span class="type-name">Name</span><span>(</span><span class="identifier">firstName</span><span>: </span><span class="type-name">String</span><span>, </span><span class="identifier">lastName</span><span>: </span><span class="type-name">String</span><span>)

  </span><span class="keyword">val</span><span> </span><span class="identifier">table</span><span> = </span><span class="type-name">Table</span><span>[</span><span class="type-name">User</span><span>](</span><span class="string-literal">&quot;user&quot;</span><span>)(
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;id&quot;</span><span>, </span><span class="type-name">INT</span><span>, </span><span class="type-name">AUTO_INCREMENT</span><span>),
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;first_name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;last_name&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">50</span><span>)),
    </span><span class="identifier">column</span><span>(</span><span class="string-literal">&quot;email&quot;</span><span>, </span><span class="type-name">VARCHAR</span><span>(</span><span class="number-literal">100</span><span>))
  )</span></code></pre>

    
<hr class="footer-rule"/>
<footer>
  ldbc is a <a href="https://typelevel.org/">Typelevel</a> project distributed under the <a href="https://img.shields.io/badge/license-MIT-green">MIT</a> license.
</footer>


  </main>

</div>

</body>

</html>
