<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>SchemaSPY Document Generation · LDBC</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='Documentation for ldbc'/>
<link rel="canonical" href="https://takapi327.github.io/ldbc/../en/06-Generating-SchemaSPY-Documentation.html"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/warnOldVersion.js"></script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/snippets.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>

<!--
<link rel="shortcut icon" href="../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../en/index.html" >
<span class="home-icon">⌂</span>LDBC
</a>
<div class="version-number">
0.3.0-alpha9
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../en/01-Table-Definitions.html" class="page">Table Definitions</a></li>
  <li><a href="../en/02-Custom-Data-Type.html" class="page">Custom Data Type</a></li>
  <li><a href="../en/03-Type-safe-Query-Builder.html" class="page">Type-safe Query Construction</a></li>
  <li><a href="../en/04-Database-Connection.html" class="page">Database Connection</a></li>
  <li><a href="../en/05-Plain-SQL-Queries.html" class="page">Plain SQL Queries</a></li>
  <li><a href="../en/06-Generating-SchemaSPY-Documentation.html" class="active page">SchemaSPY Document Generation</a></li>
  <li><a href="../en/07-Schema-Code-Generation.html" class="page">Schema Code Generation</a></li>
  <li><a href="../en/08-Perdormance.html" class="page">Performance</a></li>
  <li><a href="../en/09-Connector.html" class="page">Connector</a></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="../en/index.html">LDBC</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../en/index.html" >
<span class="home-icon">⌂</span>LDBC
</a>
<div class="version-number">
0.3.0-alpha9
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../en/01-Table-Definitions.html" class="page">Table Definitions</a></li>
  <li><a href="../en/02-Custom-Data-Type.html" class="page">Custom Data Type</a></li>
  <li><a href="../en/03-Type-safe-Query-Builder.html" class="page">Type-safe Query Construction</a></li>
  <li><a href="../en/04-Database-Connection.html" class="page">Database Connection</a></li>
  <li><a href="../en/05-Plain-SQL-Queries.html" class="page">Plain SQL Queries</a></li>
  <li><a href="../en/06-Generating-SchemaSPY-Documentation.html" class="active page">SchemaSPY Document Generation</a></li>
  <li><a href="../en/07-Schema-Code-Generation.html" class="page">Schema Code Generation</a></li>
  <li><a href="../en/08-Perdormance.html" class="page">Performance</a></li>
  <li><a href="../en/09-Connector.html" class="page">Connector</a></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<span id="version-warning"></span>

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../en/index.html">LDBC</a></li>
  <li>SchemaSPY Document Generation</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#schemaspy-document-generation" name="schemaspy-document-generation" class="anchor"><span class="anchor-link"></span></a>SchemaSPY Document Generation</h1>
<p>This chapter describes how to use table definitions built in LDBC to create SchemaSPY documents.</p>
<p>The following dependencies must be set up for the project</p>
<pre class="prettyprint"><code class="language-scala">libraryDependencies += &quot;io.github.takapi327&quot; %% &quot;ldbc-schemaspy&quot; % &quot;0.3.0-alpha9&quot;
</code></pre>
<p>If you have not yet read how to define tables in LDBC, we recommend that you read the chapter <a href="/ldbc/en/01-Table-Definitions.html">Table Definitions</a> first.</p>
<p>The following code example assumes the following import</p>
<pre class="prettyprint"><code class="language-scala 3">import ldbc.core.*
import ldbc.schemaspy.SchemaSpyGenerator
</code></pre>
<h2><a href="#generated-from-table-definitions" name="generated-from-table-definitions" class="anchor"><span class="anchor-link"></span></a>Generated from table definitions</h2>
<p>SchemaSPY connects to the database to obtain Meta information and table structures, and generates documents based on this information. LDBC, on the other hand, does not connect to the database, but generates SchemaSPY documents using the table structures constructed by LDBC. Some items deviate from the documentation generated using SchemaSPY simply because it does not make a connection to the database. For example, information such as the number of records currently stored in a table cannot be displayed.</p>
<p>Database information is required to generate documents, and LDBC has a trait for representing database information.</p>
<p>A sample of database information built using <code>ldbc.core.Database</code> is shown below.</p>
<pre class="prettyprint"><code class="language-scala 3">case class SampleLdbcDatabase(
  schemaMeta: Option[String] = None,
  catalog: Option[String] = Some(&quot;def&quot;),
  host: String = &quot;127.0.0.1&quot;,
  port: Int = 3306
) extends Database:

  override val databaseType: Database.Type = Database.Type.MySQL

  override val name: String = &quot;sample_ldbc&quot;

  override val schema: String = &quot;sample_ldbc&quot;

  override val character: Option[Character] = None

  override val collate: Option[Collate] = None

  override val tables = Set(
    ... // Enumerate table structures built with LDBC
  )
</code></pre>
<p>Use <code>SchemaSpyGenerator</code> to generate SchemaSPY documents. Pass the generated database definition to the <code>default</code> method and call <code>generate</code> to generate SchemaSPY files at the file location specified in the second argument.</p>
<pre class="prettyprint"><code class="language-scala 3">@main
def run(): Unit =
  val file = java.io.File(&quot;document&quot;)
  SchemaSpyGenerator.default(SampleLdbcDatabase(), file).generate()
</code></pre>
<p>Open the generated file <code>index.html</code> to see the SchemaSPY documentation.</p>
<h2><a href="#generated-from-database-connection" name="generated-from-database-connection" class="anchor"><span class="anchor-link"></span></a>Generated from database connection</h2>
<p>SchemaSpyGenerator also has a <code>connect</code> method. This method connects to the database and generates documents in the same way as the standard SchemaSpy generator.</p>
<pre class="prettyprint"><code class="language-scala 3">@main
def run(): Unit =
  val file = java.io.File(&quot;document&quot;)
  SchemaSpyGenerator.connect(SampleLdbcDatabase(), &quot;user name&quot;, &quot;password&quot; file).generate()
</code></pre>
<p>The process of making database connections is done in a Java-written implementation inside SchemaSpy. Note that threads are not managed by the Effect system.</p>
<div class="source-github">
The source code for this page can be found <a href="https://github.com/takapi327/ldbc/tree/v0.3.0-alpha9/docs/target/mdoc/en/06-Generating-SchemaSPY-Documentation.md">here</a>.
</div>

<div class="nav-next">
<p><strong>Next:</strong> <a href="../en/07-Schema-Code-Generation.html">Schema Code Generation</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../en/06-Generating-SchemaSPY-Documentation.html#schemaspy-document-generation" class="header">SchemaSPY Document Generation</a>
  <ul>
    <li><a href="../en/06-Generating-SchemaSPY-Documentation.html#generated-from-table-definitions" class="header">Generated from table definitions</a></li>
    <li><a href="../en/06-Generating-SchemaSPY-Documentation.html#generated-from-database-connection" class="header">Generated from database connection</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2024</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>
<script type="text/javascript">jQuery(function(jq){initOldVersionWarnings(jq, '0.3.0-alpha9', 'https://takapi327.github.io/ldbc/')});</script>


</html>
